{% extends "base.jinja" %}

{% block body %}
<h1>
  <a href="{{ url_for('calendar', **(current - 1)._asdict()) }}" title="Previous">&lt;&lt;</a>
  {{ current.year }}-{{ current.month }}
  <a href="{{ url_for('calendar', **(current + 1)._asdict()) }}" title="Next">&gt;&gt;</a>
</h1>

<table>
  <thead>
    <tr>
      {% for name in day_name %}
        <th>{{ name }}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for week in calendar.monthdatescalendar(*current) %}
      <tr>
        {% for date in week %}
          <td>
            <a
              href="{{ url_for('get_form', date=date) }}"
              data-day="{{ day_name[loop.index - 1] }}">
              {% if date.month == current.month %}
                {% if date == today %}
                  <strong>{{ date.day }}</strong>
                {% else %}
                  {{ date.day }}
                {% endif %}
              {% else %}
                <small>{{ date.day }}</small>
              {% endif %}

              {% if date in reservations %}
                <br><small>{{ reservations[date].band }}</small>
              {% else %}
                <br>&emsp;
              {% endif %}
            </a>
          </td>
        {% endfor %}
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock body %}